/* Misc. stuff */
:root {
	--misc-css: 1px;
}
/* Libraries */
@-moz-document url(chrome://browser/content/places/places.xhtml) {
	#forward-button, #searchFilter, #placesMenu > menu {
		border-radius: var(--photon-border-radius) !important;
	}
	#back-button:hover {
		background-color: transparent !important;
	}
	:is(#back-button, #forward-button) > image {
		padding: 5px !important;
	}
	#organizeButton {
		list-style-image: url("./icons/settings.svg") !important;
	}
	#viewMenu {
		list-style-image: url("./icons/sort.svg") !important;
	}
	#maintenanceButton {
		list-style-image: url("./icons/import-export.svg") !important;
	}
  
  /* Bigger Buttons */
  .download-state .downloadButton:not(:hover, :active) {
  	background: transparent !important;
  }
  .downloadButton {
  	height: 5.5em !important;
  }
  /* Seperator */
  .download-state .downloadButton::before {
  	width: 1px !important;
  	height: 46px !important;
  	content: "";
  	display: block;
  	background: color-mix(in srgb, currentColor 10%, transparent);
  	margin-top: calc(((5.5em - 46px)/2) - 10px);
  	position: relative;
  	translate: -8px
  }
  .download-state .downloadButton:hover::before {
  	background: color-mix(in srgb, currentColor 10%, transparent);
  }
	
	@media (prefers-color-scheme: dark) {
		* {
			--organizer-pane-background: #323234 !important;
			--organizer-toolbar-background: #323234 !important;
			--organizer-pane-field-border-color: transparent !important;
			--dark-menu-border-color: #5b5b5d !important;
			--organizer-border-color: #3e3e40 !important;
			--organizer-content-background: #222225 !important;
			--organizer-toolbar-field-background: #222225 !important;
			--organizer-hover-background: rgb(83,83,85) !important;
			--organizer-selected-background: rgb(92,92,95) !important;
		}
		treecol[data-l10n-id*="places-view-sort-col"] {
			background-color: rgb(50,50,52) !important;
		}
		window {
			background: #333 !important;
		}
	}
}

/* Page Info */
@-moz-document url(chrome://browser/content/pageinfo/pageInfo.xhtml) {
	#topBar {
		background: var(--toolbar-field-background-color) !important;
		border-color: transparent !important;
	}
}

/* Autoscroller */
.autoscroller {
	padding: 15px !important;
}
.autoscroller::after {
	display: block;
	content: "";
	width: 30px;
	height: 30px;
	border-radius: 50%;
	background: no-repeat center var(--autoscroll-background-image) rgba(249,249,250,.8);
	border: solid rgba(0,0,0,.4) 1.5px;
	translate: -12px -22px;
	box-shadow: 0 0 4px rgba(0,0,0,.2);
}
/* Aero glass/Mica *
@supports -moz-bool-pref("photon.win-glass") {
	#navigator-toolbox-background, #navigator-toolbox, html {
    background: transparent !important;
		appearance: -moz-win-glass !important;
	}
	[class*="titlebar"][class*="button"] {
		list-style-image: none !important;
	}
	[class*="titlebar"][class*="button"][class*="close"] {
		opacity: 0.5 !important;
	}
}*/
/* Old style context menus */
@supports -moz-bool-pref("uc.contextmenu.win-10") {
	@supports -moz-bool-pref("uc.contextmenu.dark") {
		menupopup:not([customoptionstyling="true"]), tooltip {
			--arrowpanel-background: #2b2b2b !important;
			--button-hover-bgcolor: #5f5f5f !important;
			--panel-color: #fff !important;
			--panel-border-color: #a0a0a0 !important;
		}
		menupopup menuseparator::before {
			border-color: #808080 !important;
		}
		tooltip, menupopup:not([customoptionstyling="true"]) :is(menu, menuitem):where([_moz-menuactive="true"]):not([disabled="true"]) {
			color: #fff !important;
		}
	}
	@supports -moz-bool-pref("uc.contextmenu.light") {
		menupopup:not([customoptionstyling="true"]), tooltip {
			--arrowpanel-background: #fff !important;
			--button-hover-bgcolor: #e3e2e3 !important;
			--panel-color: #000 !important;
			--panel-border-color: #a0a0a0 !important;
		}
		menupopup menuseparator::before {
			border-color: #d7d7d7 !important;
		}
		tooltip, menupopup:not([customoptionstyling="true"]) :is(menu, menuitem):where([_moz-menuactive="true"]):not([disabled="true"]) {
			color: #000 !important;
		}
	}
	.menupopup-arrowscrollbox {
		padding-inline: 2px !important;
	}
	menupopup menuseparator::before {
		margin-inline: 8px !important;
	}
	menupopup .menu-right {
		content: url("chrome://global/skin/icons/arrow-right.svg") !important;
		scale: 1 1 !important;
	}
	menuitem[checked="true"] > .menu-iconic-left {
    list-style-image: none !important;
		background: currentColor;
		border-radius: 50% !important;
		width: 6px !important;
		height: 6px;
		margin-inline-start: 5px !important;
		margin-inline-end: 12px !important;
	}
	#context-navigation {
		margin-inline: 2px !important;
	}
}

/* kinda looks like the gnome context menu too */
@supports -moz-bool-pref("uc.contextmenu.win-11") {
	@supports -moz-bool-pref("uc.contextmenu.dark") {
		menupopup:not([customoptionstyling="true"]), tooltip {
			--arrowpanel-background: #2c2c2c !important;
			--button-hover-bgcolor: #5f5f5f !important;
			--panel-color: #fff !important;
			--panel-border-color: #3e3e3e !important;
		}
		menupopup menuseparator::before {
			border-color: #3e3e3e !important;
		}
		tooltip, menupopup:not([customoptionstyling="true"]) :is(menu, menuitem):where([_moz-menuactive="true"]):not([disabled="true"]) {
			color: #fff !important;
		}
	}
	@supports -moz-bool-pref("uc.contextmenu.light") {
		menupopup:not([customoptionstyling="true"]), tooltip {
			--arrowpanel-background: #fff !important;
			--button-hover-bgcolor: #e3e2e3 !important;
			--button-hover-color: #000 !important;
			--panel-color: #000 !important;
			--panel-border-color: #a0a0a0 !important;
		}
		menupopup menuseparator::before {
			border-color: #e7e7e7 !important;
		}
		tooltip, menupopup:not([customoptionstyling="true"]) :is(menu, menuitem):where([_moz-menuactive="true"]):not([disabled="true"]) {
			color: #000 !important;
		}
	}
	.menupopup-arrowscrollbox {
		border-radius: 6px !important;
		box-shadow: 0 2px 4px #1118 !important;
	}
	menupopup menuseparator::before {
		margin-inline: 8px !important;
	}
	menupopup .menu-right {
		content: url("chrome://global/skin/icons/arrow-right.svg") !important;
		scale: 1 1 !important;
	}
	menuitem[checked="true"] > .menu-iconic-left {
    list-style-image: none !important;
		background: currentColor;
		border-radius: 50% !important;
		width: 6px !important;
		height: 6px;
		margin-inline-start: 5px !important;
		margin-inline-end: 12px !important;
	}
	menupopup :is(menu, menuitem) {
		--panel-border-radius: 4px !important;
		margin-inline: 4px !important;
	}
	#context-navigation menuitem * {
		border-radius: 2px !important;
	}
}

/* Sidebery */
@supports -moz-bool-pref("uc.sidebery") {
	:root {
		--sidebar-width: 35px;
	}
	#sidebar-box[sidebarcommand="_3c078156-979c-498b-8990-85f7987dd929_-sidebar-action"] #sidebar-header {
		display: none !important;
	}
	#sidebar-box[sidebarcommand="_3c078156-979c-498b-8990-85f7987dd929_-sidebar-action"] {
		margin-top: -1px;
		max-width: var(--sidebar-width) !important;
		width: var(--sidebar-width) !important;
		min-width: var(--sidebar-width) !important;
		height: 100vh !important;
		position: absolute;
		transition: var(--photon-speed-3) ease;
	}
	#sidebar-box[sidebarcommand="_3c078156-979c-498b-8990-85f7987dd929_-sidebar-action"] #sidebar {
		width: var(--sidebar-width) !important;
		transition: var(--photon-speed-3) ease;
		z-index: 1;
	}
	#sidebar-box[sidebarcommand="_3c078156-979c-498b-8990-85f7987dd929_-sidebar-action"]:hover {
		--sidebar-width: 235px;
	}
	#sidebar-box[sidebarcommand="_3c078156-979c-498b-8990-85f7987dd929_-sidebar-action"]:not([hidden]) ~ #appcontent {
		margin-inline-start: 35px;
	}
	#nav-bar {
		margin-top: -40px;
		margin-inline-end: 167px;
		margin-inline-start: 20px;
	}
	.tabbrowser-tab, #new-tab-button, #tabs-newtab-button {
		display: none !important;
	}
	.titlebar-button {
		height: 42px !important;
	}
	.titlebar-color {
		background-color: var(--toolbar-bgcolor);
	}
	
	:is(:root[style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"])
	#nav-bar {
	    box-shadow: none !important;
	}
		
	:root[uidensity="compact"] #titlebar:has(#toolbar-menubar[inactive="true"]) {
		height: 35px !important;
	}
	:root[uidensity="compact"] #toolbar-menubar[inactive="true"] + #TabsToolbar .titlebar-button {
		height: 35px !important;
	}
	:root[uidensity="compact"] #titlebar:has(#toolbar-menubar[inactive="true"]) ~ #nav-bar {
		margin-top: -33px;
	}
	
	:root[uidensity="touch"] #titlebar:has(#toolbar-menubar[inactive="true"]) {
		height: 47px !important;
	}
	:root[uidensity="touch"] #toolbar-menubar[inactive="true"] + #TabsToolbar .titlebar-button {
		height: 47px !important;
	}
	:root[uidensity="touch"] #titlebar:has(#toolbar-menubar[inactive="true"]) ~ #nav-bar {
		margin-top: -45px;
	}
}